{
  "bsonType": "object",
  "required": ["地址"],
  "permission": {
    "read": "doc.status == 'published'", // 示例：仅允许读取已发布地块
    "create": "role == 'admin'",
    "update": "role == 'admin'",
    "delete": "role == 'admin'"
  },
  "properties": {
    "_id": {
      "bsonType": "string",
      "description": "地块唯一ID"
    },
	"status": {
	      "bsonType": "string",
	      "title": "发布状态",
	      "enum": ["draft", "published", "archived"],
	      "defaultValue": "draft"
	},
    "address": {
      "bsonType": "string",
      "title": "详细地址",
      "minLength": 5,
      "maxLength": 200,
      "errorMessage": "地址长度需在5-200个字符之间"
    },
    "buildings": {
      "bsonType": "array",
      "title": "楼栋列表",
      "items": {
        "bsonType": "object",
        "required": ["楼栋号"],
        "properties": {
          "building_no": {
            "bsonType": "string",
            "title": "楼栋编号",
            "pattern": "^[A-Z0-9]{1,3}栋$",
            "errorMessage": "格式示例：A1栋、B2栋"
          },
          "floors": {
            "bsonType": "array",
            "title": "楼层信息",
            "items": {
              "bsonType": "object",
              "required": ["楼层号", "招商状态"],
              "properties": {
                "floor_no": {
                  "bsonType": "string",
                  "title": "楼层编号",
                  "pattern": "^[B1-9]F$",
                  "errorMessage": "格式示例：B1F、2F、3F"
                },
                "investment_status": {
                  "bsonType": "string",
                  "title": "招商状态",
                  "enum": ["已出租", "空置中", "预保留"],
                  "errorMessage": "请选择有效状态"
                },
                "investment_area": {
                  "bsonType": "double",
                  "minimum": 0,
                  "maximum": 10000,
                  "title": "可租赁面积(㎡)"
                },
                "vacant_area": {
                  "bsonType": "double",
                  "minimum": 0,
                  "maximum": 10000,
                  "title": "空置面积(㎡)"
                },
                "settled_enterprises": {
                  "bsonType": "string",
                  "title": "入驻企业(加密)",
                  "permission": {
                    "read": "role == 'admin'",
                    "write": "role == 'admin'"
                  }
                },
                "occupancy_area": {
                  "bsonType": "double",
                  "title": "入驻面积(加密)",
                  "permission": {
                    "read": "role == 'admin'",
                    "write": "role == 'admin'"
                  }
                },
                "rent": {
                  "bsonType": "double",
                  "title": "租金价格(加密)",
                  "permission": {
                    "read": "role == 'admin'",
                    "write": "role == 'admin'"
                  }
                }
              }
            }
          }
        }
      }
    },
    "created_time": {
      "bsonType": "timestamp",
      "title": "创建时间",
      "defaultValue": {
        "$env": "now"
      }
    }
  }
}